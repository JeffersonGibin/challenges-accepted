{"version":3,"sources":["components/SearchBar/search-icon.svg","components/WeatherCard/index.js","components/SearchBar/index.js","components/CapitalRow/index.js","components/CapitalTable/index.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","WeatherCard","this","props","searchedCity","react_default","a","createElement","className","React","Component","SearchBar","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","input","createRef","event","preventDefault","current","value","trim","validate","onCitySearch","length","alert","focus","onSubmit","type","placeholder","required","defaultValue","ref","title","src","require","width","height","alt","CapitalRow","handleClick","console","info","colName","capital","name","onClick","side","min","max","CapitalTable","capitalsChunks","capitals","slice","map","tableNumber","tableSideClass","thName","key","data-side","border","components_CapitalRow","App","state","handleCitySearch","loadCapitalsForecast","setState","_this2","capitalsWhereClause","concat","join","woeidFilter","query","fetch","weatherApiUrl","then","result","json","data","count","results","channel","forEach","push","location","city","item","forecast","low","high","catch","error","StrictMode","components_WeatherCard","src_components_SearchBar","src_components_CapitalTable","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.c6dc22dc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/search-icon.87a42f03.svg\";","import React from 'react';\r\n\r\nclass WeatherCard extends React.Component {\r\n    render() {\r\n        if (!this.props.searchedCity) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <section className=\"weather-card\">\r\n                <h2>Searched city: {this.props.searchedCity}</h2>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default WeatherCard;\r\n","import React from 'react';\r\nimport './index.css';\r\n\r\nclass SearchBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        \r\n        this.input = React.createRef();\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        \r\n        const searchedCity = this.input.current.value.trim();\r\n\r\n        if (this.validate(searchedCity)) {\r\n            this.props.onCitySearch(searchedCity);\r\n        }\r\n    }\r\n\r\n    validate(searchedCity) {\r\n        if (searchedCity.length === 0) {\r\n            alert(\"A city name is required!\");\r\n            this.input.current.focus();\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"search-bar\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input className=\"search-bar__input\" type=\"text\" placeholder=\"Search a city\" required\r\n                        defaultValue={this.props.searchedCity}\r\n                        ref={this.input}/>\r\n                    <button className=\"search-bar__submit\" type=\"submit\" title=\"Search\">\r\n                        <img src={require('./search-icon.svg')} width=\"22\" height=\"22\" alt=\"Search\"/>\r\n                    </button>\r\n                </form>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\n\r\nclass CapitalRow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick() {\r\n        console.info(this.props);\r\n    }\r\n\r\n    render() {\r\n        const colName = <td className=\"capitals__colName\">{this.props.capital.name}</td>;\r\n\r\n        return (\r\n            <tr onClick={this.handleClick}>\r\n                {this.props.side === \"right\" ? colName : null}\r\n                <td className=\"capitals__colMin\">{this.props.capital.min}º</td>\r\n                <td className=\"capitals__colMax\">{this.props.capital.max}º</td>\r\n                {this.props.side === \"right\" ? null : colName}\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CapitalRow;\r\n","import React from 'react';\r\nimport CapitalRow from './../CapitalRow/';\r\nimport './index.css';\r\n\r\nclass CapitalTable extends React.Component {\r\n    render() {\r\n        const capitalsChunks = [\r\n            this.props.capitals.slice(0, this.props.capitals.length/2),\r\n            this.props.capitals.slice(this.props.capitals.length/2)\r\n        ];\r\n        \r\n        return (\r\n            <section className=\"capitals\">\r\n                <div className=\"capitals__content\">\r\n                    <h3 className=\"capitals__title\">Capitals</h3>\r\n                    {capitalsChunks.map((capitals, tableNumber) => {\r\n                        const side = tableNumber%2 === 1 ? \"right\" : \"left\";\r\n                        const tableSideClass = \"capitals__table--Side--\" + (side === \"right\" ? \"Right\" : \"Left\");\r\n                        const thName = <th></th>;\r\n\r\n                        return <div key={tableNumber} className=\"capitals__column-wrapper\">\r\n                            <table className={\"capitals__table \" + tableSideClass} data-side={side} border=\"0\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        {side === \"right\" ? thName : null}\r\n                                        <th>Min</th>\r\n                                        <th>Max</th>\r\n                                        {side === \"right\" ? null : thName}\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {capitals.map(capital => \r\n                                        <CapitalRow key={capital.name} capital={capital} side={side} />\r\n                                    )}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    })}\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CapitalTable;\r\n","import React, { Component } from 'react';\nimport WeatherCard from './components/WeatherCard/';\nimport SearchBar from './components/SearchBar/';\nimport CapitalTable from './components/CapitalTable/';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchedCity: '',\n            capitals: []\n        };\n\n        this.handleCitySearch = this.handleCitySearch.bind(this);\n    }\n\n    componentDidMount() {\n        this.loadCapitalsForecast();\n    }\n\n    handleCitySearch(searchedCity) {\n        this.setState({ searchedCity: searchedCity });\n    }\n\n    loadCapitalsForecast() {\n        const capitalsWhereClause = `where text=\"${this.props.capitals.join('\" or text=\"')}\"`;\n        const woeidFilter = `select woeid from geo.places(1) ${capitalsWhereClause}`;\n        const query = `select * from weather.forecast where woeid in (${woeidFilter}) and u='c'`;\n\n        fetch(`${this.props.weatherApiUrl}?q=${query}&format=json`)\n            .then(result => result.json())\n            .then(data => {\n                if (!data || !data.query || !data.query.count) {\n                    return;\n                }\n\n                const capitals = [];\n\n                data.query.results.channel.forEach((capital, key) => {\n                    capitals.push({\n                        key,\n                        name: capital.location.city,\n                        min: capital.item.forecast[0].low,\n                        max: capital.item.forecast[0].high\n                    });\n                });\n\n                this.setState({ capitals });\n            })\n            .catch(console.error);\n    }\n\n    render() {\n        return (\n            <React.StrictMode>\n                <div className=\"app\">\n                    <header className=\"header\">\n                        <h1 className=\"header__title\">Weather forecast</h1>\n                    </header>\n                    <main className=\"content\">\n                        <WeatherCard searchedCity={this.state.searchedCity}/>\n                        <SearchBar\n                            searchedCity={this.state.searchedCity}\n                            onCitySearch={this.handleCitySearch}/>\n                        <CapitalTable capitals={this.state.capitals}/>\n                    </main>\n                </div>\n            </React.StrictMode>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nconst CAPITALS = [\n    'Brasília', 'Amsterdam', 'London', 'Dublin', 'Berlin',\n    'London', 'Lisbon', 'Paris', 'Brussels', 'Madrid'\n];\n\nconst weatherApiUrl = 'https://query.yahooapis.com/v1/public/yql';\n\nReactDOM.render(\n    <App\n        capitals={CAPITALS}\n        weatherApiUrl={weatherApiUrl}/>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}